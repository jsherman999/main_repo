<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{app_name}} - Interactive Guide</title>
    <style>
        /* Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: #1a1a1a;
            color: #e0e0e0;
            line-height: 1.6;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            padding: 30px 0;
            border-bottom: 2px solid #333;
            margin-bottom: 30px;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            color: #fff;
        }

        .subtitle {
            color: #888;
            font-size: 1.1rem;
        }

        /* Screenshot Container */
        .screenshot-container {
            position: relative;
            margin: 30px auto;
            max-width: 100%;
            border: 1px solid #333;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
        }

        #screenshot {
            display: block;
            width: 100%;
            height: auto;
        }

        /* Hotspots */
        .hotspot {
            position: absolute;
            border: 2px solid rgba(59, 130, 246, 0.6);
            background: rgba(59, 130, 246, 0.1);
            cursor: pointer;
            transition: all 0.2s ease;
            z-index: 10;
        }

        .hotspot:hover {
            border-color: rgba(59, 130, 246, 1);
            background: rgba(59, 130, 246, 0.2);
            z-index: 20;
        }

        .hotspot.active {
            border-color: rgba(251, 191, 36, 1);
            background: rgba(251, 191, 36, 0.2);
        }

        /* Tooltips */
        .tooltip {
            position: absolute;
            background: #2d2d2d;
            border: 1px solid #444;
            border-radius: 8px;
            padding: 16px;
            max-width: 350px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.7);
            z-index: 100;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.2s ease;
        }

        .tooltip.visible {
            opacity: 1;
            pointer-events: auto;
        }

        .tooltip-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 8px;
            color: #3b82f6;
        }

        .tooltip-description {
            margin-bottom: 10px;
            color: #ccc;
        }

        .tooltip-usage {
            font-size: 0.9rem;
            font-style: italic;
            color: #999;
            margin-bottom: 10px;
        }

        .tooltip-shortcuts {
            background: #222;
            padding: 8px;
            border-radius: 4px;
            margin-top: 10px;
        }

        .tooltip-shortcuts strong {
            color: #3b82f6;
            display: block;
            margin-bottom: 4px;
        }

        .shortcut-item {
            display: inline-block;
            background: #333;
            padding: 2px 8px;
            border-radius: 3px;
            margin: 2px;
            font-family: monospace;
            font-size: 0.85rem;
        }

        .tooltip-tips {
            margin-top: 10px;
            padding: 8px;
            background: rgba(251, 191, 36, 0.1);
            border-left: 3px solid #fbbf24;
            border-radius: 4px;
            font-size: 0.9rem;
            color: #fbbf24;
        }

        /* Documentation Sections */
        .documentation {
            margin-top: 50px;
            padding: 30px;
            background: #222;
            border-radius: 8px;
        }

        .doc-section {
            margin-bottom: 40px;
        }

        .doc-section h2 {
            color: #3b82f6;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #333;
        }

        .workflow-steps {
            list-style: none;
            counter-reset: step-counter;
        }

        .workflow-step {
            counter-increment: step-counter;
            margin-bottom: 20px;
            padding-left: 50px;
            position: relative;
        }

        .workflow-step::before {
            content: counter(step-counter);
            position: absolute;
            left: 0;
            top: 0;
            background: #3b82f6;
            color: #fff;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .workflow-step h3 {
            margin-bottom: 8px;
            color: #fff;
        }

        .workflow-step p {
            color: #ccc;
        }

        .tech-specs {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .tech-spec-item {
            background: #2d2d2d;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #3b82f6;
        }

        .tech-spec-item h3 {
            color: #3b82f6;
            margin-bottom: 10px;
        }

        .quick-reference {
            background: #2d2d2d;
            padding: 20px;
            border-radius: 8px;
        }

        .shortcut-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 10px;
            margin-top: 15px;
        }

        .shortcut-row {
            display: flex;
            justify-content: space-between;
            padding: 8px;
            background: #222;
            border-radius: 4px;
        }

        .shortcut-key {
            font-family: monospace;
            color: #3b82f6;
            font-weight: 600;
        }

        .shortcut-action {
            color: #ccc;
        }

        /* Responsive */
        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }

            .tooltip {
                max-width: 280px;
            }

            .tech-specs {
                grid-template-columns: 1fr;
            }
        }

        /* Instructions */
        .instructions {
            background: rgba(59, 130, 246, 0.1);
            border: 1px solid rgba(59, 130, 246, 0.3);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 30px;
            text-align: center;
        }

        .instructions p {
            color: #3b82f6;
            font-size: 1.1rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>{{app_name}}</h1>
            <p class="subtitle">{{app_description}}</p>
        </header>

        <div class="instructions">
            <p>ðŸ‘† Hover over the blue highlighted areas in the screenshot to see detailed tooltips</p>
        </div>

        <div class="screenshot-container" id="screenshot-wrapper">
            <img id="screenshot" src="{{screenshot_src}}" alt="{{app_name}} Screenshot">
            <!-- Hotspots will be dynamically inserted here -->
        </div>

        <div class="documentation">
            <!-- Workflow Section -->
            <div class="doc-section" id="workflow-section">
                <h2>ðŸ“‹ Workflow Guide</h2>
                <ul class="workflow-steps" id="workflow-steps">
                    <!-- Workflow steps will be inserted here -->
                </ul>
            </div>

            <!-- Technical Specifications -->
            <div class="doc-section" id="tech-specs-section">
                <h2>ðŸ”§ Technical Specifications</h2>
                <div class="tech-specs" id="tech-specs">
                    <!-- Tech specs will be inserted here -->
                </div>
            </div>

            <!-- Quick Reference -->
            <div class="doc-section" id="quick-ref-section">
                <h2>âš¡ Quick Reference</h2>
                <div class="quick-reference">
                    <h3>Keyboard Shortcuts</h3>
                    <div class="shortcut-grid" id="shortcuts">
                        <!-- Shortcuts will be inserted here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Data will be injected here
        const data = {{data_json}};

        // Initialize hotspots and tooltips
        function initializeHotspots() {
            const container = document.getElementById('screenshot-wrapper');
            const img = document.getElementById('screenshot');

            // Wait for image to load
            if (!img.complete) {
                img.addEventListener('load', createHotspots);
            } else {
                createHotspots();
            }

            function createHotspots() {
                data.hotspots.forEach((hotspot, index) => {
                    const hotspotDiv = document.createElement('div');
                    hotspotDiv.className = 'hotspot';
                    hotspotDiv.style.left = hotspot.x + '%';
                    hotspotDiv.style.top = hotspot.y + '%';
                    hotspotDiv.style.width = hotspot.width + '%';
                    hotspotDiv.style.height = hotspot.height + '%';
                    hotspotDiv.dataset.index = index;

                    // Create tooltip
                    const tooltip = createTooltip(hotspot.tooltip);
                    tooltip.id = 'tooltip-' + index;

                    // Add event listeners
                    hotspotDiv.addEventListener('mouseenter', (e) => showTooltip(e, tooltip, hotspotDiv));
                    hotspotDiv.addEventListener('mouseleave', () => hideTooltip(tooltip, hotspotDiv));

                    container.appendChild(hotspotDiv);
                    container.appendChild(tooltip);
                });
            }
        }

        function createTooltip(tooltipData) {
            const tooltip = document.createElement('div');
            tooltip.className = 'tooltip';

            let html = '<div class="tooltip-title">' + tooltipData.title + '</div>';
            html += '<div class="tooltip-description">' + tooltipData.description + '</div>';

            if (tooltipData.usage) {
                html += '<div class="tooltip-usage">' + tooltipData.usage + '</div>';
            }

            if (tooltipData.shortcuts && tooltipData.shortcuts.length > 0) {
                html += '<div class="tooltip-shortcuts"><strong>Shortcuts:</strong>';
                tooltipData.shortcuts.forEach(shortcut => {
                    html += '<span class="shortcut-item">' + shortcut + '</span>';
                });
                html += '</div>';
            }

            if (tooltipData.tips) {
                html += '<div class="tooltip-tips">ðŸ’¡ ' + tooltipData.tips + '</div>';
            }

            tooltip.innerHTML = html;
            return tooltip;
        }

        function showTooltip(event, tooltip, hotspot) {
            hotspot.classList.add('active');
            tooltip.classList.add('visible');

            // Position tooltip
            const container = document.getElementById('screenshot-wrapper');
            const containerRect = container.getBoundingClientRect();
            const hotspotRect = hotspot.getBoundingClientRect();

            // Calculate position relative to container
            let left = hotspotRect.right - containerRect.left + 10;
            let top = hotspotRect.top - containerRect.top;

            // Check if tooltip goes off screen
            const tooltipWidth = 350;
            if (left + tooltipWidth > containerRect.width) {
                left = hotspotRect.left - containerRect.left - tooltipWidth - 10;
            }

            tooltip.style.left = left + 'px';
            tooltip.style.top = top + 'px';
        }

        function hideTooltip(tooltip, hotspot) {
            hotspot.classList.remove('active');
            tooltip.classList.remove('visible');
        }

        function populateWorkflow() {
            const workflowSteps = document.getElementById('workflow-steps');
            if (data.workflow && data.workflow.steps) {
                data.workflow.steps.forEach(step => {
                    const li = document.createElement('li');
                    li.className = 'workflow-step';
                    li.innerHTML = '<h3>' + step.title + '</h3><p>' + step.description + '</p>';
                    workflowSteps.appendChild(li);
                });
            }
        }

        function populateTechSpecs() {
            const techSpecs = document.getElementById('tech-specs');
            if (data.technical_specs) {
                data.technical_specs.forEach(spec => {
                    const div = document.createElement('div');
                    div.className = 'tech-spec-item';
                    div.innerHTML = '<h3>' + spec.title + '</h3><p>' + spec.description + '</p>';
                    techSpecs.appendChild(div);
                });
            }
        }

        function populateShortcuts() {
            const shortcuts = document.getElementById('shortcuts');
            if (data.quick_reference && data.quick_reference.shortcuts) {
                data.quick_reference.shortcuts.forEach(shortcut => {
                    const div = document.createElement('div');
                    div.className = 'shortcut-row';
                    div.innerHTML = '<span class="shortcut-key">' + shortcut.key + '</span><span class="shortcut-action">' + shortcut.action + '</span>';
                    shortcuts.appendChild(div);
                });
            }
        }

        // Initialize on load
        document.addEventListener('DOMContentLoaded', () => {
            initializeHotspots();
            populateWorkflow();
            populateTechSpecs();
            populateShortcuts();
        });
    </script>
</body>
</html>
